{% extends 'nave.html' %}

{% block content %}
<style>
    :root {
        --primary-color: #2563eb;
        --primary-hover: #1d4ed8;
        --secondary-color: #f3f4f6;
        --text-color2: #1f2937;
        --text-color: #eff5ff;
        --text-light: #6b7280;
        --error-color: #ef4444;
        --success-color: #10b981;
        --border-radius: 8px;
        --box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --transition: all 0.3s ease;
    }

    body {
        font-family: 'Inter', 'Segoe UI', sans-serif;
        background-color: #f9fafb;
        color: var(--text-color2);
        margin: 0;
        padding: 0;
        line-height: 1.6;
    }

    .registration-container {
        max-width: 700px;
        margin: 40px auto;
        background-color: #fff;
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        overflow: hidden;
    }

    .form-header {
        background-color: var(--primary-color);
        color: white;
        padding: 24px 32px;
        text-align: center;
        position: relative;
    }

    .form-title {
        margin: 0;
        font-size: 28px;
        font-weight: 700;
        letter-spacing: -0.025em;
    }

    .form-subtitle {
        font-size: 16px;
        font-weight: 400;
        opacity: 0.9;
        margin-top: 8px;
    }

    .form-body {
        padding: 32px;
    }

    .form-section {
        margin-bottom: 28px;
    }

    .form-section-title {
        font-size: 18px;
        font-weight: 600;
        margin: 0 0 16px 0;
        padding-bottom: 8px;
        border-bottom: 1px solid #e5e7eb;
        color: var(--primary-color);
    }

    .form-row {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 16px;
    }

    .form-group {
        flex: 1 1 calc(50% - 10px);
        min-width: 240px;
        margin-bottom: 16px;
    }

    .form-group.full-width {
        flex: 1 1 100%;
    }

    label {
        display: block;
        font-size: 14px;
        font-weight: 500;
        margin-bottom: 6px;
        color: var(--text-color2);
    }

    input[type="text"],
    input[type="email"],
    input[type="number"],
    input[type="date"],
    select {
        width: 100%;
        padding: 12px 16px;
        border: 1px solid #d1d5db;
        border-radius: var(--border-radius);
        font-size: 15px;
        transition: var(--transition);
        box-sizing: border-box;
        color: var(--text-color);
        background-color: #fff;
    }

    input:focus,
    select:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .file-upload {
        position: relative;
        display: inline-block;
        width: 100%;
    }

    .file-upload-label {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        padding: 12px 16px;
        background-color: var(--secondary-color);
        border: 1px dashed #d1d5db;
        border-radius: var(--border-radius);
        cursor: pointer;
        font-size: 15px;
        font-weight: 500;
        transition: var(--transition);
        color: var(--text-light);
    }

    .file-upload-label:hover {
        background-color: #e5e7eb;
    }

    .file-upload-label svg {
        margin-right: 8px;
    }

    .file-upload input[type="file"] {
        position: absolute;
        left: 0;
        top: 0;
        opacity: 0;
        width: 100%;
        height: 100%;
        cursor: pointer;
    }

    .form-footer {
        padding: 24px 32px;
        background-color: #f9fafb;
        border-top: 1px solid #e5e7eb;
        text-align: right;
    }

    .btn {
        display: inline-block;
        padding: 12px 24px;
        border: none;
        border-radius: var(--border-radius);
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: var(--transition);
        text-align: center;
    }

    .btn-primary {
        background-color: var(--primary-color);
        color: white;
    }

    .btn-primary:hover {
        background-color: var(--primary-hover);
    }

    .hidden {
        display: none;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .registration-container {
            margin: 20px;
            max-width: 100%;
        }
        
        .form-row {
            flex-direction: column;
            gap: 0;
        }
        
        .form-group {
            flex: 1 1 100%;
        }
        
        .form-body, .form-footer {
            padding: 20px;
        }
    }

    /* Animation */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .animate-fade-in {
        animation: fadeIn 0.5s ease-out forwards;
    }
</style>

<div class="registration-container animate-fade-in">
    <div class="form-header">
        <h2 class="form-title">Inscription</h2>
        <p class="form-subtitle">Créez votre compte en quelques étapes simples</p>
    </div>

    <form action="{% url 'inscription' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-body">
            <div class="form-section">
                <h3 class="form-section-title">Informations personnelles</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="nom">Nom</label>
                        <input type="text" id="nom" name="nom" placeholder="Entrez votre nom" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="prenom">Prénom</label>
                        <input type="text" id="prenom" name="prenom" placeholder="Entrez votre prénom" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" placeholder="exemple@domaine.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="telephone">Téléphone</label>
                        <input type="text" id="telephone" name="telephone" placeholder="+212 6XX XXX XXX" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="date_naissance">Date de naissance</label>
                        <input type="date" id="date_naissance" name="date_naissance" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="age">Âge</label>
                        <input type="number" id="age" name="age" placeholder="Votre âge" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="sexe">Sexe</label>
                        <select id="sexe" name="sexe" required>
                            <option value="" disabled selected>Sélectionnez</option>
                            <option value="homme">Homme</option>
                            <option value="femme">Femme</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="date_inscription">Date d'inscription</label>
                        <input type="date" id="date_inscription" name="date_inscription" required>
                    </div>
                </div>
            </div>
            
            <div class="form-section">
                <h3 class="form-section-title">Adresse et localisation</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="pays">Pays</label>
                        <select id="pays" name="pays" onchange="showCity()" required>
                            <option value="" disabled selected>Sélectionnez un pays</option>
                            <option value="morocco">Maroc</option>
                            <option value="algerie">Algérie</option>
                            <option value="tunisie">Tunisie</option>
                            <option value="france">France</option>
                            <option value="italie">Italie</option>
                            <option value="espagne">Espagne</option>
                            <option value="allemagne">Allemagne</option>
                            <option value="royaume_uni">Royaume-Uni</option>
                            <option value="etats_unis">États-Unis</option>
                            <option value="canada">Canada</option>
                            <option value="australie">Australie</option>
                            <option value="japon">Japon</option>
                            <option value="chine">Chine</option>
                        </select>
                    </div>
                    
                    <div class="form-group hidden" id="ville-group">
                        <label for="ville">Ville</label>
                        <select id="ville" name="ville">
                            <option value="" disabled selected>Sélectionnez une ville</option>
                            <option value="casablanca">Casablanca</option>
                            <option value="marrakech">Marrakech</option>
                            <option value="tanger">Tanger</option>
                            <option value="agadir">Agadir</option>
                            <option value="fes">Fès</option>
                            <option value="rabat">Rabat</option>
                            <option value="essaouira">Essaouira</option>
                            <option value="oujda">Oujda</option>
                            <option value="kenitra">Kénitra</option>
                            <option value="taza">Taza</option>
                            <option value="berrechid">Berrechid</option>
                            <option value="khouribga">Khouribga</option>
                            <option value="safi">Safi</option>
                            <option value="larache">Larache</option>
                            <option value="nador">Nador</option>
                            <option value="berkan">Berkane</option>
                            <option value="tetouan">Tétouan</option>
                            <option value="khemisset">Khemisset</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <label for="adresse">Adresse complète</label>
                    <input type="text" id="adresse" name="adresse" placeholder="Rue, numéro, code postal" required>
                </div>
            </div>
            
            <div class="form-section">
                <h3 class="form-section-title">Profil</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="niveau">Niveau</label>
                        <select id="niveau" name="niveau" required>
                            <option value="" disabled selected>Sélectionnez votre niveau</option>
                            <option value="debutant">Débutant</option>
                            <option value="intermediaire">Intermédiaire</option>
                            <option value="avance">Avancé</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="photo">Photo de profil</label>
                        <div class="file-upload">
                            <label class="file-upload-label">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="17 8 12 3 7 8"></polyline>
                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                </svg>
                                Choisir une photo
                            </label>
                            <input type="file" id="photo" name="photo" accept="image/*" required>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="form-footer">
            <button type="submit" class="btn btn-primary">Valider l'inscription</button>
        </div>
    </form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize the form
        showCity();
        
        // Show file name when selected
        document.getElementById('photo').addEventListener('change', function() {
            const fileName = this.files[0]?.name;
            if (fileName) {
                const label = this.previousElementSibling;
                label.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M5 22h14a2 2 0 0 0 2-2V7.5L14.5 2H5a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2z"></path>
                    <polyline points="14 2 14 8 21 8"></polyline>
                </svg> ${fileName}`;
            }
        });
    });

    function showCity() {
        const pays = document.getElementById("pays").value;
        const villeGroup = document.getElementById("ville-group");
        if (pays === "morocco") {
            villeGroup.classList.remove("hidden");
        } else {
            villeGroup.classList.add("hidden");
        }
    }
</script>
{% endblock %}